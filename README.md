![CI logo](https://codeinstitute.s3.amazonaws.com/fullstack/ci_logo_small.png)


# [WELCOME TO BOUTIQUE SNOW WHITE SITE](https://boutique-snow-white.herokuapp.com/)
This is a full-stack framework project, B2C e-commerce store, built using Django, Python, HTML and CSS. My goal is to create a functioning and responsive website, that allows users to view, select and buy products.
The site's objective is to allow users to browse/view or buy products weather they are a Registered user or not.
The payment system uses Stripe. This project has been built for educational purposes.
- GitHub name repository [here](https://github.com/SnezhanaZdravkova/Boutique-Snow-White)
- ![mockup image - amiresponsive](../Boutique-Snow-White/media/readme-images/boutique-snow-white-mockup.jpg)

<!-- # Contents

- [User Experience(UX)](#user-experience-ux)
- [Languages](#languages) -->

# User Experience (UX)
## Scope
> As an App Developer & Designer, I have tried to incorporate the needs of the Shopper & Business Owner/Admin Manager along with a User-Friendly navigation & an aesthetically pleasing App.
> A visitor to Boutique Snow White would be someone who is most likely an adult who is interested in buying Fashion products and high-end interior or Trendy Clothing design services with an easy to use check out system.
* Main App Goals
    + To provide our Shoppers with a good website experience.
    + To provide our Shoppers with a visually pleasing website that is easy to navigate.
    + To provide our Shopper with the correct tools allowing shopper to search for products.
    + To provide our Shopper with an easy and safe way to purchase our products.
    + To provide our Shoppers with access to mailing list so that they may be informed on our products.

## User Stories
### Epic 1 - Viewing and Navigation
* As a/an Shopper I want to be able to view a list of products so that I can select some to purchase.
* As a/an Shopper I want to be able to view individual product details so that I can identify the price, description, product rating, product image and available sizes.
* As a/an Shopper I want to be able to quicly identify deals, clearance items and special offers so that I can take advantage of special savings on products I'd like to purchase.
* As a/an Shopper I want to be able to easily view the total of my purchases at any time so that I can avoid spending too much.
### Epic 2 - Registration and User Accounts
* As a/an Site User I want to be able to easily register for an account so that I can have a personal account and be able to view my profile.
* As a/an Site User I want to be able to easily login and logout so that I can access my personal account information.
* As a/an Site User I want to be able to easily recover my password in case I forget it so that I can recover access to my account.
* As a/an Site User I want to be able to receive an email confirmation after registering so that I can verify that my account registration was successful.
* As a/an Site User I want to be able to have a personalized user profile so that I can view my personal order history and order confirmations, and save my payment information.
### Epic 3 - Sorting and Searching
* As a/an Shopper I want to be able to sort the list of available products so that I can easily identyfy the best rated, best priced and categorically sorted products.
* As a/an Shopper I want to be able to sort a specific category of pruducts so that I can find the best-priced or best-rated product in a specific category, or sort the products in that category by name.
* As a/an Shopper I want to be able to sort multiple categories of products simultaneously so that I can find the best-priced or the best-rated products across broad categories, such as "shirts" or "dresses".
* As a/an Shopper I want to be able to search for a product by name or description so that I can find a specific product I'd like to purchase.
* As a/an Shopper I want to be able to easily see what I have searched for and the number of results so that I can quickly deside whether the product I want is available.
### Epic 4 - Purchasing and Checkout
* As a/an Shopper I want to be able to Easily select the size and quantity of a product when purchasing it so that I can ensure I don't accidentally select the wrong product quantity or size.
* As a/an Shopper I want to be able to view items in my bag to be purchased so that I can identify the total cost of my purchas and all items that I will receive.
* As a/an Shopper I want to be able to adjust the quantity of individual items in my bag so that I can easily make changes to my purchase before checkout.
* As a/an Shopper I want to be able to easily enter my paiment information so that I can check out quickly and with no hassles.
* As a/an Shopper I want to be able to feel my personal and payment information is safe and secure so that I can confidently provide the needed information to make a purchase.
* As a/an Shopper I want to be able to view an order confirmation after checkout so that I can veryfy that I haven't make any mistakes.
* As a/an Shopper I want to be able to receive an email confirmation after checkout so that I can keep the confirmation of what I've purchased for my records.
### Epic 5 - Admin and Store Management
* As a/an Store Owner I want to be able to add a product so that I can add new items to my store.
* As a/an Store Owner I want to be able to edit/update a product so that I can change product prices, descriptions, images, and other product criteria.
* As a/an Store Owner I want to be able to delete a product so that I can remove items that are no longer for sale.
* As a/an Store Owner I want to be able to add services so that I can users can see if there is new service.
* As a/an Store Owner I want to be able to edit/delete services so that I can update or remove service if it no longer practice.
* As a/an Store Owner I want to be able to remove testimonial so that I can when we a no longer providing the services they are about.
* As a/an Store Owner I want to be able to add project images so that I can so users can see our previous work or products.
### Epic 6 - User Interaction
* As a Site User I can submit an enquiry form so that I can enquire about a design consultation.
* As a Site User I can add / edit / delete a testimonial in relation to a consultation I received so that I can give my feedback.
* As a Site User I can sign up for the website's newsletter so that I can keep up to date with new products and promotions.

## User Interaction

- As a logged-in User I can wiew all the categories, products and services
- As a User I can view the rating on the products so that I can see which product is the most popular
- As a User I can view the price, description and the image on the product
- As a User I can celect and buy the products I like

### Login/Register

- As a User I can register for an account so that I can interact with the site content
- As a User I can log in/out off my account if I wish so that I can connect or disconnect from the website
- As a User I can easily see if I'm logged-in or logged-out so that I can be sure what my status is

## Navigation

- As a User I can easily navigate through the site so that I can view desired content
- As a User I can see the most loved producs so that I can quickly find inspiration and see which product is most famous

## Agile Method Git Projects
GitHub projects was used to manage the development process using an agile approach. Please see link to project [Kanban Board](https://github.com/SnezhanaZdravkova/Boutique-Snow-White/projects?query=is%3Aopen)

## Future Features
- To organize better Newsletter
- To have a weekly mailing list of Discounts for the Subscribers.
- To have blog
- To improve the styling

## Data Model
- I used principles of Object-Oriented Programming throughout this project and Django's Class-Based Generic Views.

-  Django AllAuth was used for the user authentication system.

-  The diagram below details the database schema: (to be added)

# Web Marketing Strategy

Web Marketing Strategy was used in the building of this App using the insights gained as part of the Design Thinking phase, Keyword research, SEO, Xml Sitempap, Robots.txt file, Mail Chimp & Facebook. I have introduced these specific features to aid in the marketing of the Buisness.

## Search Engine Optimisation (SEO)

SEO was carried out for this business idea in order to start to understand how most people would find this website app via a search engine. As this is the most common way to find a business online it's good practice to cover SEO to make sure the site is accessible by search engines by finding & useing Keywords.
The process followed the recommend steps of a general topic brain storm followed by a Brain dump of possible keywords for each general topic and using the google search.
The Keywords selection was made by tracking what is trending and  looking into what keywords competitors are using.

* Keywords
I used [wordtracker.com](https://www.wordtracker.com/) to pick up the most relevant to my project.
Giving us a selection of both the Short-Tail Keywords & Long-Tail Keywords that are relevant , will assist the customer in finding our Business online and help with the Websites search ranking.
Using the information gathered to ensure our meta tags and descriptions have relevant information and keywords as well as using our chosen keywords within the flow of the content of our website.

## XML Sitemap

The website App also has a sitemap file with a list of important URLs was in order to help the  search engines spiderbots to crawl the business website faster and fetch all relevant content.

Made by using XML-Sitemaps.com : https://www.xml-sitemaps.com/

## Robots 

The use of robots.txt file has been applied to allow search engine spiderbots  where not to go on the website and increase the quality of the site, ultimately improving the SEO rating.

Made with help of Walkthrough Boutique Ado.

## MailChimp Newsletter

MailChimp Newsletter was used to encouraged to Subscription to the Buisness newsletters.
The signup form is available on the website footer and is present on any page.

## Facebook Page

When it came to social media marketing a Facebook & Instagram where chosen as the start for a social media campagin.

A Facebook page was created in order to Market the Website Buisness online & an Instagram is still pending for development.

Both Social media are accessed from the Footer and are present on all pages of the App.

[Facebook Page](https://www.facebook.com/profile.php?id=100092716042422)

# Security Features and Defensive Design

## User Authentication

Django's Login Required has been used to make sure that any requests to access secure pages by non-authenticated users/Shoppers are redirected. Django's Login Required have been used to limit access based on permissions. Eg: To ensure Admin can only Add/Update/Delete Produts & Services or Logged In Shoppers can Add/Update/Delete Testimonials for which they are the User/Shopper.

## Form Validation

If incorrect or empty information/data is added to a From, the Form won't submit and a warning will appear to the User/Shopper informing them what field raised the error.

## Database Security

The Database URL and secret key are stored in the env.py file to prevent unwanted connections to the Database and this was done at the beginning of the App set up and pushed to GitHub.

Cross-Site Request Forgery (CSRF) Tokens are used on all Forms within the App.

## Custom error pages: 

Custom Error Pages have been created to give the User / Shopper more information and help redirect them when an should an Error occur. These pages are provided with a Redirect Button Return to Shop areas of the App.

## Features
* Home Page
* All Products Page
* Product Detail Page
* Services Page
* Testimonials Page
* Project Images Page
* Contact Page
* My Account
    + Manage Producrs
    + Profile
    - Register
    - Sign in
    - Sign out

#  Privacy Policy Page
The Privacy Policy page is very simple and is just a document that shows the Buisness Privacy Policy.
With in this Policy page we have show who generated out Privacy policy with a link that opens in a new tab.
We have also supplied the online link to the Business Privacy policy via a link that opens in a new tab.

#  Admin 

## Admin Control Panel Django
The Admin Control Panel is part of the Django Framework and assists the Admin in Controlling the Content of the App.
The Control panel welcomes the Admin with options to View Site/Change Password and Logo Out of the Control Panel.
From this area Admin is able to see & have access to Accounts, Authntication & Authorization, All Apps added to the Site.
This grants Admin the ability to Add, Edit or Delete from this pannel.

## Admin Login Django

As the Admin a Login Page was required in order to access the Admin Control Panel Area.
This is part of the Django Framework and supplies a simple form area requesting the Admin Username and Password with a Log In button.

## Admin Control Front End 

In this App we have granted Admin access from the Front end as well.

Admin is able to Add, Edit & Delte Products.
Admin is able to Login via Account in the Header - However unlike other standard Registered User /Shopper Admin is granted Access to not Only the My Profile and Logout as is Standard.
The Admin has 2 other Access points from the Account when Logged in Add Product & Add Services.
The Admin can:
    - Add, Edit and Delete Products,
    - Add, Edit  and Delete Services,
    - Add, Edit  and Delete Testimonials,
    - Add or Delete Project Images.

# Technologies
## Languages
- [HTML5](https://en.wikipedia.org/wiki/HTML5)
- [CSS](https://en.wikipedia.org/wiki/HTML5)
- [PYTHON](https://www.python.org/)
- [JavaScript](https://en.wikipedia.org/wiki/JavaScript)
## Support Programs & Libraries
 Frameworks - Libraries - Programs Used
 - [Git:](https://git-scm.com/)
    - Version control.
- [GitHub](https://github.com/)
    - For storing code and deploying the site.
- [Gitpod:](https://www.gitpod.io/)
    - Used for building and editing my code
- [Django:](https://www.djangoproject.com/)
    - Main python framework used in the development of this project
- [Django-allauth:](https://www.djangoproject.com/)
    - authentication library used to create the user accounts
- [ElephentSQL:](https://www.elephantsql.com/)
    - was used as the database for this project
- [Heroku:](https://www.heroku.com/)
    - was used as the cloud based platform to deploy the site on
- Chrome Dev Tools:
    - Used for overall development and tweaking, including testing responsiveness and performance
- [Font Awesome:](https://fontawesome.com/) 
    - Used for icons
- GitHub - Used for version control and agile tool
- [Google Fonts](https://fonts.google.com/)
    - Used to add style the website's font.
- [W3C CSS Validation Service](https://jigsaw.w3.org/css-validator/#validate_by_input)
    - Used to validate CSS code.
- [W3C Markup Validation Service](https://validator.w3.org/)
    - Used to validate HTML code.
- [JSHint](https://jshint.com/)
    - Used to validate JS code.
- [Pep8ci](https://pep8ci.herokuapp.com/) - Thank you Code Institute
    - Used to validate Python code found on slack #announcements
- Crispy Forms used to manage Django Forms
- [Amazon AWS](https://aws.amazon.com/)
    - the image hosting service used to upload images
- [Bootstrap 4:](https://getbootstrap.com/)
    - CSS Framework for developing responsiveness and styling
- [Image Resizer](https://imageresizer.com/)
    - Used to Compress & Resize Images

# Testing
- Testing During development of the App was done through the project in order to Test for Bugs,
- Manual Testing was constantly done on all aspects of the App,
- Constant testing was done for the Responsiveness of the app via Dev Tools.
- Keeping an eye on the Look and Feel of the App.

## Bugs
As a new Django Developer Debug was kept on True in order to make use of Django's error page.

A selection of Error's encountered.

<details><summary>Bugs/Errors </summary>

1. Movind to Codeanywhere IDE was quite complicated:
    - For me was long process - 6 days with tutor support.
2. A few times noe able to push:
    - the system bugs.
3. The Image on Home Page was not Showing:
    -Error fixed - found typo in the name of the file.
4. Edit functionality for project:
    - Error was: TemplateDoesNotExist
    - Error fixed - found I was using edit_proguct instead edit_product.
5. Folder Testimonials deleted by mistake.
6. Quality of Balsamiq Wireframes is poor, and some of the images have been replaced recently:
    - Codeanywhere IDE allowed uploading files only up to 1mb
</details>

## Manual Testing

Manual Testing of All Epics / User stories was carried out throught the Developemnt of this App.

Header, Main Navigation & Fotter are shown on all pages throught the App.

Please also note that in Features images have been put in showing a number of manual Testing eg: Toast Pop Ups, Verification request & Sending & Receiving Confirmation emails working etc.



## Balsamiq Wireframes
Wireframes are extremely basic and did not incorporate all App pages. Wireframes were used as boiler plates to start the app design many updates and alterations have been made after the basic Wireframes were used to get started on the App.
<details><summary>Balsamiq Wireframes</summary>

Home Page ![home page](../Boutique-Snow-White/media/readme-images/home-page-sw-2.jpg)

All Products ![all products image](../Boutique-Snow-White/media/readme-images/all-products-sw_10.png)

Services ![Servises](../Boutique-Snow-White/media/readme-images/services-page-2.jpg)

Testimonials ![Testimonials](../Boutique-Snow-White/media/readme-images/testimonials-2.jpg)

Contact Us Form ![Contact Us Form](../Boutique-Snow-White/media/readme-images/contact-form-1.jpg)

Mobile Phone ![Mobile Phone](../Boutique-Snow-White/media/readme-images/mobile-sw-2.jpg)

</details>


## Deployment - Heroku
This project was deployed using Github, Heroku and ElephentSQL.

### Github
To create a new repository I took the following steps:

- Logged into Github.
- Clicked over to the 'repositories' section.
- Clicked the green 'new' button. This takes you to the create new repository page.
- Once there under 'repository template' I chose the code institute template from the dropdown menu.
- I input a repository name then clicked the green 'create repository button' at the bottom of the page.
- Once created I opened the new repository and clicked the green 'Gitpod' button to create a workspace in Gitpod for editing.

## Create the Heroku App:
- Log in to Heroku or create an account.
- On the main page click the button labelled New in the top right corner and from the drop-down menu select "Create New App".
- Enter a unique and meaningful app name.
- Next select your region.
- Click on the Create App button.

## Attach the ElephentSQL database:
- Copy the DATABASE_URL located in Config Vars in the Settings Tab.
- Prepare the environment and settings.py file:
- In your GitPod workspace, create an env.py file in the main directory.
- Add the DATABASE_URL value and your chosen SECRET_KEY value to the env.py file.
- Update the settings.py file to import the env.py file and add the SECRETKEY and DATABASE_URL file paths.
- Comment out the default database configuration.
- Save files and make migrations.

- Link the file to the templates directory in Heroku
- Change the templates directory to TEMPLATES_DIR
- Add Heroku to the ALLOWED_HOSTS list the format ['app_name.heroku.com', 'localhost']
- Create files / directories
- Create requirements.txt file
- Create three directories in the main directory; media, storage and templates.
- Create a file named "Procfile" in the main directory and add the following: web: gunicorn project-name.wsgi
- Update Heroku Config Vars
- Add the following Config Vars in Heroku: (to be added)

# AWS Set Up

## AWS S3 Bucket
### Create an AWS account.
- From the 'Services' tab on the AWS Management Console, search 'S3' and select it.
- Click 'Create a new bucket', give it a name(match your Heroku app name if possible), and choose the region closest to you.
- Under 'Object Ownership' select 'ACLs enabled' and leave the Object Ownership as Bucket owner preferred.
- Uncheck block all public access and acknowledge that the bucket will be public.
- Click 'Create bucket'.
- Open the created bucket, go to the 'Properties' tab. Scroll to the bottom and under 'Static website hosting' click 'edit' and change the Static website hosting option to 'enabled'. Copy the default values for the index and error documents and click 'save changes'.
- Open the 'Permissions' tab, locate the CORS configuration section and add the following code:
[
  {
      "AllowedHeaders": [
          "Authorization"
      ],
      "AllowedMethods": [
          "GET"
      ],
      "AllowedOrigins": [
          "*"
      ],
      "ExposeHeaders": []
  }
]
- In the 'Bucket Policy' section and select 'Policy Generator'.
- Choose 'S3 Bucket Policy' from the type dropdown.
- In 'Step 2: Add Statements', add the following settings:
    - Effect: Allow
    - Principal: *
    - Actions: GetObject
    - ARN: Bucket ARN (copy from S3 Bucket page)
    - Click 'Add Statement'.
- Click 'Generate Policy'.
- Copy the policy from the popup that appears
- Paste the generated policy into the Permissions > Bucket Policy area.
- Add '/*' at the end of the 'Resource' key, and save.
- Go to the 'Access Control List' section click edit and enable List for Everyone (public access) and accept the warning box.

## IAM
- From the 'Services' menu, search IAM and select it.
- Once on the IAM page, click 'User Groups' from the side bar, then click 'Create group'. Choose a name and click 'Create'.
- Go to 'Policies', click 'Create New Policy'. Go to the 'JSON' tab and click 'Import Managed Policy'.
- Search 'S3' and select 'AmazonS3FullAccess'. Click 'Import'.
- Get the bucket ARN from 'S3 Permissions' as per above.
- Delete the '*' from the 'Resource' key and add the following code into the area:
"Resource": [
    "YOUR-ARN-NO-HERE",
    "YOUR-ARN-NO-HERE/*"
]
- Click 'Next Tags' > 'Next Review' and then provide a name and description and click 'Create Policy'.
- Click'User Groups' and open the created group. Go to the 'Permissions' tab and click 'Add Permissions' and then 'Attach Policies'.
- Search for the policy you created and click 'Add Permissions'.
- You need to create a user to put in the group. Select users from the sidebar and click 'Add user'.
- Give your user a user name, check 'Programmatic Access'.
- Click 'Next' and select the group you created.
- Keep clicking 'Next' until you reach the 'Create user' button and click that.
- Download the CSV file which contains the AWS_SECRET_ACCESS_KEY and your AWS_ACCESS_KEY_ID needed in the  Heroku variables as per above list and also in your env.py.

## Connecting S3 to Django
- Go back to your IDE and install 2 more requirements:
    - pip3 install boto3
    - pip3 install django-storages
- Update your requirements.txt file by typing pip3 freeze --local > requirements.txt and add storages to your installed apps.
- Create an if statement in settings.py
if 'USE_AWS' in os.environ:
    AWS_STORAGE_BUCKET_NAME = 'insert-your-bucket-name-here'
    AWS_S3_REGION_NAME = 'insert-your-region-here'
    AWS_ACCESS_KEY_ID = os.environ.get('AWS_ACCESS_KEY_ID')
    AWS_SECRET_ACCESS_KEY = os.environ.get('AWS_SECRET_ACCESS_KEY')

- Then add the line

- AWS_S3_CUSTOM_DOMAIN = f'{AWS_STORAGE_BUCKET_NAME}.s3.eu-west-1.amazonaws.com' to tell django where our static files will be coming from in production.
- Create a file called custom storages and import both our settings from django.con as well as the s3boto3 storage class from django storages.

- Create the following classes:

class StaticStorage(S3Boto3Storage):
    location = settings.STATICFILES_LOCATION

class MediaStorage(S3Boto3Storage):
    location = settings.MEDIAFILES_LOCATION
- In settings.py add the following inside the if statement:
STATICFILES_STORAGE = 'custom_storages.StaticStorage'
STATICFILES_LOCATION = 'static'
DEFAULT_FILE_STORAGE = 'custom_storages.MediaStorage'
MEDIAFILES_LOCATION = 'media'
STATIC_URL = f'https://{AWS_S3_CUSTOM_DOMAIN}/{STATICFILES_LOCATION}/'
MEDIA_URL = f'https://{AWS_S3_CUSTOM_DOMAIN}/{MEDIAFILES_LOCATION}/'

- and then add the following at the top of the if statement:
AWS_S3_OBJECT_PARAMETERS = {
    'Expires': 'Thu, 31 Dec 2099 20:00:00 GMT',
    'CacheControl': 'max-age=94608000',
}
- Go to S3, go to your bucket and click 'Create folder'. Name the folder 'media' and click 'Save'.
- Inside the folder, click 'Upload', 'Add files', and then select all the images that you are using for your site.
- Then under 'Permissions' select the option 'Grant public-read access' and click upload.
Your static files and media files should be automatically linked from django to your S3 bucket.

## Deploy
- NB: Ensure in Django settings, DEBUG is False
- Go to the deploy tab on Heroku and connect to GitHub, then to the required repository.
- Scroll to the bottom of the deploy page and either click Enable Automatic Deploys for automatic deploys or Deploy Branch to deploy manually. Manually deployed branches will need re-deploying each time the repo is updated.
- Click View to view the deployed site.
The site is now live and operational.



## Credits
>-  Code Institute - 'Boutique Ado' project helped me with product details page and pagination
>-  Django documentation - also helped me with pagination and other problems
>-  To get the Django framework installed and set up I followed the Code institutes Django Blog cheatsheet
>-  W3Schools
>-  Django Docs
>-  Stack Overflow
>-  Bootstrap

## Acknowledgements
- Many thanks to my mentor Ronan McClelland for his support and advice
- Thanks to The Code Institute slack community
- Thanks to my colleague Tara Helberg for helping and inspiring
- Thanks AliOKeeffe for helping and inspiring me!